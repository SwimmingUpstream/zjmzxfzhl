(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-514af405"],{"1f31":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form-design",{ref:"formDesign",scopedSlots:e._u([{key:"action",fn:function(){return[r("el-button",{attrs:{type:"text",icon:"el-icon-check"},on:{click:e.btnSave}},[e._v("保存")])]},proxy:!0}])})],1)},n=[],i=r("0fea"),f=r("5c96"),s=r("eecf"),a={name:"FlowableFormEdit",components:{FormDesign:s["default"]},data:function(){return{formKey:void 0,formData:{formKey:void 0,formName:"",formJson:""}}},created:function(){this.$route.query&&this.$route.query.formKey&&(this.formKey=this.$route.query.formKey),this.getFormData()},methods:{getFormData:function(){var e=this;this.formKey?Object(i["c"])("/flowable/form/queryById",{id:this.formKey}).then((function(t){var r,o=t.data;e.formData=o;var n=null===(r=e.formData)||void 0===r?void 0:r.formJson;setTimeout((function(){return e.$refs.formDesign.setJSON(n?JSON.parse(n):void 0,100)}))})):f["Message"].error("formKey is null")},btnSave:function(){this.formData.formJson=JSON.stringify(this.$refs.formDesign.getJSON()),Object(i["e"])("/flowable/form/update",this.formData).then((function(e){var t=e.msg;e.data;f["Message"].success(t)}))}}},u=a,m=r("2877"),c=Object(m["a"])(u,o,n,!1,null,null,null);t["default"]=c.exports},"62e2":function(e,t,r){},"9f00":function(e,t,r){var o={"./el-button.js":"64b1","./el-checkbox-group.js":"cc1a","./el-input.js":"373c","./el-radio-group.js":"afca","./el-select.js":"a938","./el-upload.js":"73ee"};function n(e){var t=i(e);return r(t)}function i(e){var t=o[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id="9f00"},c0c4:function(e,t,r){"use strict";r("62e2")},eecf:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["formMaking"==e.formDesignType?r("fm-making-form",{ref:"formMaking",staticClass:"form-making-height",attrs:{preview:"","generate-json":""},scopedSlots:e._u([{key:"action",fn:function(){return[e._t("action")]},proxy:!0}],null,!0)}):e._e(),e._v(" "),"formGenerator"==e.formDesignType?r("form-generator",{ref:"formGenerator",scopedSlots:e._u([{key:"action",fn:function(){return[e._t("action")]},proxy:!0}],null,!0)}):e._e()],1)},n=[],i=r("8849"),f=r("83d6"),s=r.n(f),a={name:"FormDesign",components:{FormGenerator:i["default"]},data:function(){return{defaultJson:{formMaking:{list:[],config:{labelWidth:100,labelPosition:"right",size:"small"}},formGenerator:{fields:[],formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!1}}}},computed:{formDesignType:function(){return s.a.formDesignType}},methods:{setJSON:function(e){"formMaking"==this.formDesignType?this.$refs.formMaking.setJSON(e||this.defaultJson["formMaking"]):"formGenerator"==this.formDesignType&&this.$refs.formGenerator.setJSON(e||this.defaultJson["formGenerator"])},getJSON:function(){var e;return"formMaking"==this.formDesignType?e=this.$refs.formMaking.getJSON():"formGenerator"==this.formDesignType&&(e=this.$refs.formGenerator.getJSON()),e}}},u=a,m=(r("c0c4"),r("2877")),c=Object(m["a"])(u,o,n,!1,null,null,null);t["default"]=c.exports}}]);