(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e696c94"],{"09f4":function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),Math.easeInOutQuad=function(e,t,s,n){return e/=n/2,e<1?s/2*e*e+t:(e--,-s/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,s){var o=a(),i=e-o,l=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=l;var a=Math.easeInOutQuad(c,o,i,t);r(a),c<t?n(e):s&&"function"===typeof s&&s()};u()}},3579:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:"查看详情",visible:e.dialogProcessDetailVisibleInChild,fullscreen:""},on:{"update:visible":function(t){e.dialogProcessDetailVisibleInChild=t}}},[s("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"过程意见",name:"comments"}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.comments,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[s("el-table-column",{attrs:{label:"任务节点",prop:"taskName",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.taskName))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作类型",prop:"typeDesc",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.typeDesc))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"参与人",prop:"userName",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"时间",prop:"time",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.time))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"意见",prop:"fullMessage",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.fullMessage))])]}}])})],1)],1),e._v(" "),s("el-tab-pane",{attrs:{label:"流程表单",name:"processIntanceForm"}},[e.generateStartFormVisible?s("div",[s("form-parser",{ref:"generateStartForm",attrs:{data:e.startFormJson,value:e.variables}})],1):e._e(),e._v(" "),e.showBusinessKey?s("el-form",{attrs:{"label-width":"100px"}},[s("el-form-item",{attrs:{label:"业务主键Key:"}},[s("el-input",{attrs:{disabled:""},model:{value:e.businessKey,callback:function(t){e.businessKey=t},expression:"businessKey"}})],1)],1):e._e(),e._v(" "),e.generateStartFormVisible||e.showBusinessKey?e._e():s("div",[e._v("\n                无\n            ")])],1),e._v(" "),s("el-tab-pane",{attrs:{label:"流程图",name:"processIntanceImage"}},[s("el-scrollbar",[s("img",{attrs:{src:e.imagePath,alt:"流程图"}})])],1)],1)],1)},r=[],a=(s("7f7f"),s("0fea")),o=s("5f87"),i=s("ef35"),l={name:"ProcessDetail",components:{FormParser:i["default"]},props:{visible:{type:Boolean,default:function(){return!1}},processInstanceId:{type:String,default:function(){return""}}},computed:{dialogProcessDetailVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{activeName:"comments",comments:[],imagePath:"",isShowProcessInstanceForm:!1,generateStartFormVisible:!1,startFormJson:void 0,variables:void 0,showBusinessKey:!1,businessKey:void 0}},created:function(){this.init()},methods:{init:function(){this.listComments()},handleClick:function(e,t){"processIntanceForm"==e.name?this.showProcessInstanceForm():"processIntanceImage"==e.name&&this.showImage()},showProcessInstanceForm:function(){var e=this;this.isShowProcessInstanceForm||Object(a["c"])("/flowable/processInstance/formData",{processInstanceId:this.processInstanceId}).then((function(t){var s=t.data;e.showBusinessKey=s.showBusinessKey,e.businessKey=s.businessKey,s&&s.renderedStartForm&&(e.startFormJson=JSON.parse(s.renderedStartForm),e.variables=JSON.parse(s.variables.processInstanceFormData),e.generateStartFormVisible=!0),e.isShowProcessInstanceForm=!0}))},listComments:function(){var e=this;Object(a["c"])("/flowable/processInstance/comments",{processInstanceId:this.processInstanceId}).then((function(t){var s=t.data;e.comments=s}))},showImage:function(){this.imagePath||(this.imagePath="".concat("/zjmzxfzhl")+"/flowable/processInstanceImage?processInstanceId="+this.processInstanceId+"&access_token="+Object(o["a"])()+"&time="+new Date)}}},c=l,u=s("2877"),d=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=d.exports},"879c":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"filter-container"},[s("el-checkbox",{model:{value:e.listQuery.processUnfinished,callback:function(t){e.$set(e.listQuery,"processUnfinished",t)},expression:"listQuery.processUnfinished"}},[e._v("流程未办结")]),e._v(" "),s("el-checkbox",{model:{value:e.listQuery.processFinished,callback:function(t){e.$set(e.listQuery,"processFinished",t)},expression:"listQuery.processFinished"}},[e._v("流程已办结")])],1),e._v(" "),s("div",{staticClass:"filter-container"},[s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程实例ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceId,callback:function(t){e.$set(e.listQuery,"processInstanceId",t)},expression:"listQuery.processInstanceId"}}),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskName,callback:function(t){e.$set(e.listQuery,"taskName",t)},expression:"listQuery.taskName"}}),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键Key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceBusinessKey,callback:function(t){e.$set(e.listQuery,"processInstanceBusinessKey",t)},expression:"listQuery.processInstanceBusinessKey"}}),e._v(" "),s("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间开始",type:"datetime"},model:{value:e.listQuery.taskCreatedAfter,callback:function(t){e.$set(e.listQuery,"taskCreatedAfter",t)},expression:"listQuery.taskCreatedAfter"}}),e._v(" "),s("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间结束",type:"datetime"},model:{value:e.listQuery.taskCreatedBefore,callback:function(t){e.$set(e.listQuery,"taskCreatedBefore",t)},expression:"listQuery.taskCreatedBefore"}}),e._v(" "),s("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间开始",type:"datetime"},model:{value:e.listQuery.taskCompletedAfter,callback:function(t){e.$set(e.listQuery,"taskCompletedAfter",t)},expression:"listQuery.taskCompletedAfter"}}),e._v(" "),s("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间结束",type:"datetime"},model:{value:e.listQuery.taskCompletedBefore,callback:function(t){e.$set(e.listQuery,"taskCompletedBefore",t)},expression:"listQuery.taskCompletedBefore"}}),e._v(" "),s("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[s("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询\n            "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),e._v(" "),s("el-table",{staticStyle:{width:"99%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[s("el-table-column",{attrs:{label:"流程实例名称",prop:"processInstanceName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.processInstanceName))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"任务名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"开始时间",prop:"createTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"完成时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.endTime))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"工作耗时",prop:"workTimeInMillis",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.workTimeInMillis))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"总耗时",prop:"durationInMillis",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.durationInMillis))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"所有人",prop:"owner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.owner))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"执行人",prop:"assignee",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.assignee))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[s("el-dropdown",[s("span",{staticClass:"el-dropdown-link"},[e._v("操作"),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(n.processInstanceId)}}},[e._v("查看详情\n                        ")])],1)],1)]}}])})],1),e._v(" "),s("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e._v(" "),e.dialogViewVisible?s("process-detail",{attrs:{visible:e.dialogViewVisible,processInstanceId:e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},r=[],a=s("333d"),o=s("0fea"),i=s("3579"),l={name:"FlowableTaskDone",components:{ProcessDetail:i["default"],Pagination:a["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0,taskCompletedAfter:void 0,taskCompletedBefore:void 0,processUnfinished:!1,processFinished:!1},formJson:void 0,processInstanceId:"",dialogViewVisible:!1}},created:function(){this.list()},methods:{list:function(){var e=this;Object(o["c"])("/flowable/task/listDone",this.listQuery).then((function(t){var s=t.data;e.records=s.records,e.total=s.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0,taskCompletedAfter:void 0,taskCompletedBefore:void 0,processUnfinished:!1,processFinished:!1},this.list()},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0}}},c=l,u=s("2877"),d=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=d.exports},"9f00":function(e,t,s){var n={"./el-button.js":"64b1","./el-checkbox-group.js":"cc1a","./el-input.js":"373c","./el-radio-group.js":"afca","./el-select.js":"a938","./el-upload.js":"73ee"};function r(e){var t=a(e);return s(t)}function a(e){var t=n[e];if(!(t+1)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return t}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="9f00"},ef35:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["formMaking"==e.formDesignType?s("fm-generate-form",{ref:"formMaking",attrs:{data:e.data,value:e.value}}):e._e(),e._v(" "),"formGenerator"==e.formDesignType?s("parser",{ref:"formGenerator",attrs:{"form-conf":e.data,value:e.value}}):e._e()],1)},r=[],a=s("8849"),o=s("93ff"),i=s("83d6"),l=s.n(i),c={name:"FormParser",components:{FormGenerator:a["default"],Parser:o["a"]},props:["data","value"],data:function(){return{}},computed:{formDesignType:function(){return l.a.formDesignType}},methods:{getData:function(){return"formMaking"==this.formDesignType||"formGenerator"==this.formDesignType?this.$refs[this.formDesignType].getData():null},resetFields:function(){"formMaking"==this.formDesignType?this.$refs[this.formDesignType].reset():"formGenerator"==this.formDesignType&&this.$refs[this.formDesignType].resetForm()}}},u=c,d=s("2877"),p=Object(d["a"])(u,n,r,!1,null,null,null);t["default"]=p.exports}}]);